import{_ as u}from"./MobileLayout.vue_vue_type_script_setup_true_lang-ZyALOnf5.js";import{d as f,r as d,q as p,s as x,a as o,o as l,b as r,u as i,g,w as v,e as t,t as k,F as w}from"./app-BECXtsCj.js";import{H as y}from"./html5-qrcode-scanner-Cft4E28M.js";import{C as _}from"./circle-x-BGiD4xK9.js";import{S as h}from"./scan-line-Bfirpjsb.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-DBBJ1SCm.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-yfNj3EtR.js";import"./sun-CNM0XANM.js";import"./createLucideIcon-DhO2SWd3.js";import"./ticket-GBRpcEtf.js";import"./qr-code-BkMHccSH.js";import"./user-FrBunI2a.js";const b={class:"mt-6 text-center text-sm text-gray-500 dark:text-gray-400"},S={key:0,class:"flex items-center justify-center gap-2 text-yellow-600 dark:text-yellow-400"},C={key:1,class:"flex items-center justify-center gap-2"},V=f({__name:"Scanner",setup(q){const n=d(null),s=d(null),c=e=>{n.value&&n.value.clear(),window.location.href=e},m=e=>{e&&e.type===0&&(s.value="Arahkan kamera ke QR Code yang valid.")};return p(()=>{const e={fps:10,qrbox:{width:250,height:250},facingMode:"environment"},a=new y("qr-reader",e,!1);a.render(c,m),n.value=a}),x(()=>{n.value&&n.value.clear().catch(e=>{console.error("Failed to clear scanner on unmount.",e)})}),(e,a)=>(l(),o(w,null,[r(i(g),{title:"Pindai QR Code"}),r(u,null,{default:v(()=>[a[1]||(a[1]=t("div",{class:"mb-6 text-center"},[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},"Pindai Kode Kehadiran"),t("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},"Arahkan kamera Anda ke QR Code yang tersedia di lokasi event.")],-1)),a[2]||(a[2]=t("div",{class:"relative mx-auto w-full max-w-sm overflow-hidden rounded-xl border-4 border-white bg-black shadow-lg dark:border-gray-800"},[t("div",{id:"qr-reader"}),t("div",{class:"scan-line absolute top-0 h-1 w-full bg-red-500/80 shadow-[0_0_10px_theme(colors.red.500)]"})],-1)),t("div",b,[s.value?(l(),o("div",S,[r(i(_),{class:"h-5 w-5"}),t("span",null,k(s.value),1)])):(l(),o("div",C,[r(i(h),{class:"h-5 w-5"}),a[0]||(a[0]=t("span",null,"Menunggu untuk memindai...",-1))]))])]),_:1,__:[1,2]})],64))}});export{V as default};
