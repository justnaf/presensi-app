import{d as v,x as b,r as y,l as c,o as u,w as l,b as t,e as r,u as s,g as x,y as V,a as f,j as i,k,F as U,f as C,t as h,v as j,h as q}from"./app-BseDJQ0X.js";import{_ as n,b as d,a as m}from"./Label.vue_vue_type_script_setup_true_lang-7VrmmFEi.js";import{_ as L}from"./TextLink.vue_vue_type_script_setup_true_lang-DF0OVoVB.js";import{_ as $}from"./index-BZEPx3fX.js";import{L as N,_ as P}from"./AuthLayout.vue_vue_type_script_setup_true_lang-WEn36i27.js";import{U as A}from"./user-D2RIFQVy.js";import"./useForwardExpose-BfstMUIF.js";import"./createLucideIcon-QOMkqTl8.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CJr7tx2n.js";const B={class:"grid gap-4"},F={class:"flex flex-col items-center gap-2"},R={class:"relative h-24 w-24 rounded-full"},E=["src"],S={key:1,class:"flex h-full w-full items-center justify-center rounded-full bg-neutral-100 dark:bg-neutral-800"},D={class:"grid gap-2"},M={class:"grid gap-2"},I={class:"grid gap-2"},O={class:"grid gap-2"},T=["value"],z={class:"grid gap-2"},G={class:"grid gap-2"},H={class:"text-center text-sm text-muted-foreground"},te=v({__name:"Register",props:{institutions:{}},setup(J){const a=b({name:"",username:"",email:"",password:"",password_confirmation:"",avatar:null,institution_id:null}),g=y(null);function _(p){var o;const e=(o=p.target.files)==null?void 0:o[0];e&&(a.avatar=e,g.value=URL.createObjectURL(e))}const w=()=>{a.post(route("register"),{onFinish:()=>a.reset("password","password_confirmation")})};return(p,e)=>(u(),c(P,{title:"Create an account",description:"Enter your details below to create your account"},{default:l(()=>[t(s(x),{title:"Register"}),r("form",{onSubmit:V(w,["prevent"]),class:"flex flex-col gap-6"},[r("div",B,[r("div",F,[t(s(n),{for:"avatar-upload",class:"cursor-pointer"},{default:l(()=>[r("div",R,[g.value?(u(),f("img",{key:0,src:g.value,alt:"Avatar Preview",class:"h-full w-full rounded-full object-cover"},null,8,E)):(u(),f("div",S,[t(s(A),{class:"h-12 w-12 text-neutral-400"})])),e[6]||(e[6]=r("div",{class:"absolute inset-0 flex items-center justify-center rounded-full bg-black/40 opacity-0 transition-opacity hover:opacity-100"},[r("span",{class:"text-xs font-semibold text-white"},"Change")],-1))])]),_:1}),r("input",{id:"avatar-upload",type:"file",class:"hidden",onChange:_,accept:"image/*"},null,32),t(d,{message:s(a).errors.avatar},null,8,["message"])]),r("div",D,[t(s(n),{for:"name"},{default:l(()=>e[7]||(e[7]=[i("Name")])),_:1,__:[7]}),t(s(m),{id:"name",type:"text",required:"",autofocus:"",modelValue:s(a).name,"onUpdate:modelValue":e[0]||(e[0]=o=>s(a).name=o),placeholder:"Full name"},null,8,["modelValue"]),t(d,{message:s(a).errors.name},null,8,["message"])]),r("div",M,[t(s(n),{for:"username"},{default:l(()=>e[8]||(e[8]=[i("Username")])),_:1,__:[8]}),t(s(m),{id:"username",type:"text",required:"",modelValue:s(a).username,"onUpdate:modelValue":e[1]||(e[1]=o=>s(a).username=o),placeholder:"Username"},null,8,["modelValue"]),t(d,{message:s(a).errors.username},null,8,["message"])]),r("div",I,[t(s(n),{for:"email"},{default:l(()=>e[9]||(e[9]=[i("Email address")])),_:1,__:[9]}),t(s(m),{id:"email",type:"email",required:"",autocomplete:"email",modelValue:s(a).email,"onUpdate:modelValue":e[2]||(e[2]=o=>s(a).email=o),placeholder:"email@example.com"},null,8,["modelValue"]),t(d,{message:s(a).errors.email},null,8,["message"])]),r("div",O,[t(s(n),{for:"institution_id"},{default:l(()=>e[10]||(e[10]=[i("Institution")])),_:1,__:[10]}),k(r("select",{id:"institution_id","onUpdate:modelValue":e[3]||(e[3]=o=>s(a).institution_id=o),required:"",class:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200"},[e[11]||(e[11]=r("option",{value:null,disabled:""},"-- Pilih institusi Anda --",-1)),(u(!0),f(U,null,C(p.institutions,o=>(u(),f("option",{key:o.id,value:o.id},h(o.name),9,T))),128))],512),[[j,s(a).institution_id]]),t(d,{message:s(a).errors.institution_id},null,8,["message"])]),r("div",z,[t(s(n),{for:"password"},{default:l(()=>e[12]||(e[12]=[i("Password")])),_:1,__:[12]}),t(s(m),{id:"password",type:"password",required:"",autocomplete:"new-password",modelValue:s(a).password,"onUpdate:modelValue":e[4]||(e[4]=o=>s(a).password=o),placeholder:"Password"},null,8,["modelValue"]),t(d,{message:s(a).errors.password},null,8,["message"])]),r("div",G,[t(s(n),{for:"password_confirmation"},{default:l(()=>e[13]||(e[13]=[i("Confirm password")])),_:1,__:[13]}),t(s(m),{id:"password_confirmation",type:"password",required:"",autocomplete:"new-password",modelValue:s(a).password_confirmation,"onUpdate:modelValue":e[5]||(e[5]=o=>s(a).password_confirmation=o),placeholder:"Confirm password"},null,8,["modelValue"]),t(d,{message:s(a).errors.password_confirmation},null,8,["message"])]),t(s($),{type:"submit",class:"mt-2 w-full",disabled:s(a).processing},{default:l(()=>[s(a).processing?(u(),c(s(N),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):q("",!0),e[14]||(e[14]=i(" Create account "))]),_:1,__:[14]},8,["disabled"])]),r("div",H,[e[16]||(e[16]=i(" Already have an account? ")),t(L,{href:p.route("login"),class:"underline underline-offset-4"},{default:l(()=>e[15]||(e[15]=[i("Log in")])),_:1,__:[15]},8,["href"])])],32)]),_:1}))}});export{te as default};
