import{d as A,p as F,i as _,r as c,W as T,x as K,q as O,s as W,a as i,o,b as C,u as n,g as P,w as M,e,l as E,h as g,k,m as h,F as y,f as I,t as d,S as G,n as J,T as Q,a6 as R,y as X,z as S}from"./app-BseDJQ0X.js";import{u as Y}from"./useSweetAlert-Cof9YfZk.js";import{_ as Z}from"./AppLayout.vue_vue_type_script_setup_true_lang-_xJ__bvC.js";import"./index-BZEPx3fX.js";import"./useForwardExpose-BfstMUIF.js";import"./RovingFocusGroup-BEdNjhS5.js";import"./createLucideIcon-QOMkqTl8.js";import"./x-Fgpuu7RJ.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-B4goNhOc.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CJr7tx2n.js";import"./user-D2RIFQVy.js";import"./qr-code-D8fJsSp-.js";import"./scan-line-BtQoL_Je.js";import"./calendar-days-DnhNLqVb.js";import"./ticket-Cb3YOTsR.js";const ee={class:"py-12"},te={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},re={class:"overflow-hidden bg-white p-6 shadow-sm sm:rounded-lg dark:bg-gray-800"},se={class:"mb-6 flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center"},ae={class:"flex w-full items-center gap-2 sm:w-auto"},oe={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},ie={class:"w-full text-left text-sm text-gray-500 dark:text-gray-400"},ne={key:0},de={class:"px-6 py-4 font-medium whitespace-nowrap text-gray-900 dark:text-white"},le={class:"px-6 py-4"},ue={class:"space-x-2 px-6 py-4 text-right"},ce=["onClick"],ge=["onClick"],me={key:0,class:"mt-6"},pe={class:"-mb-1 flex flex-wrap"},ye=["innerHTML"],be=["innerHTML"],fe={class:"relative w-full max-w-2xl transform overflow-hidden rounded-lg bg-white shadow-xl transition-all dark:bg-gray-800"},xe={class:"p-6"},ke={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},he={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-400"},ve={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-400"},we={class:"flex justify-end gap-4"},_e=["disabled"],$e=A({__name:"Institutions",props:{institutions:{},filters:{},flash:{}},setup(L){const B=L,V=F(),{success:D,error:H,confirmDelete:N}=Y();_(()=>V.props,t=>{var r,s;(r=t.flash)!=null&&r.success&&D(t.flash.success),(s=t.flash)!=null&&s.error&&H(t.flash.error)},{deep:!0});const b=c(B.filters.search);let v;_(b,t=>{clearTimeout(v),v=setTimeout(()=>{T.get(route("admin.institutions.index"),{search:t},{preserveState:!0,replace:!0})},300)});const a=K({id:null,name:"",type:""}),l=c(!1),m=c(!1),f=c(""),p=c(null),U=()=>{m.value=!1,a.reset(),f.value="Tambah Institusi Baru",l.value=!0,S(()=>{var t;return(t=p.value)==null?void 0:t.focus()})},j=t=>{m.value=!0,a.id=t.id,a.name=t.name,a.type=t.type??"",f.value="Edit Institusi",l.value=!0,S(()=>{var r;return(r=p.value)==null?void 0:r.focus()})},u=()=>{l.value=!1,a.reset()},w=t=>{t.key==="Escape"&&l.value&&u()};O(()=>document.addEventListener("keydown",w)),W(()=>document.removeEventListener("keydown",w));const z=()=>{const t={onSuccess:()=>u(),onError:()=>{var r;return(r=p.value)==null?void 0:r.focus()}};m.value?a.put(route("admin.institutions.update",a.id),t):a.post(route("admin.institutions.store"),t)},$=t=>{N(()=>{T.delete(route("admin.institutions.destroy",t.id),{preserveScroll:!0})})},q=[{title:"Manajemen Institusi",href:route("admin.institutions.index")}];return(t,r)=>(o(),i(y,null,[C(n(P),{title:"Institutions"}),C(Z,{breadcrumbs:q},{default:M(()=>[e("div",ee,[e("div",te,[e("div",re,[e("div",se,[r[3]||(r[3]=e("h2",{class:"text-2xl font-bold text-gray-800 dark:text-gray-200"},"Daftar Institusi",-1)),e("div",ae,[k(e("input",{"onUpdate:modelValue":r[0]||(r[0]=s=>b.value=s),type:"text",placeholder:"Cari institusi...",class:"block w-full rounded-md border-gray-300 bg-white p-2 text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:w-64 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 dark:focus:border-indigo-600 dark:focus:ring-indigo-600"},null,512),[[h,b.value]]),e("button",{onClick:U,type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-gray-800 px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out hover:bg-gray-700 focus:bg-gray-700 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:outline-none active:bg-gray-900 disabled:opacity-25 dark:bg-gray-200 dark:text-gray-800 dark:hover:bg-white"}," Tambah ")])]),e("div",oe,[e("table",ie,[r[5]||(r[5]=e("thead",{class:"bg-gray-50 text-xs text-gray-700 uppercase dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"},"Nama"),e("th",{scope:"col",class:"px-6 py-3"},"Tipe"),e("th",{scope:"col",class:"px-6 py-3"},[e("span",{class:"sr-only"},"Actions")])])],-1)),e("tbody",null,[t.institutions.data.length===0?(o(),i("tr",ne,r[4]||(r[4]=[e("td",{colspan:"3",class:"px-6 py-4 text-center text-gray-500 dark:text-gray-400"},"Tidak ada data ditemukan.",-1)]))):g("",!0),(o(!0),i(y,null,I(t.institutions.data,s=>(o(),i("tr",{key:s.id,class:"border-b bg-white hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-600"},[e("td",de,d(s.name),1),e("td",le,d(s.type||"-"),1),e("td",ue,[e("button",{onClick:x=>j(s),class:"font-medium text-blue-600 hover:underline dark:text-blue-500"}," Edit ",8,ce),e("button",{onClick:x=>$(s),class:"font-medium text-red-600 hover:underline dark:text-red-500"}," Hapus ",8,ge)])]))),128))])])]),t.institutions.links.length>3?(o(),i("div",me,[e("div",pe,[(o(!0),i(y,null,I(t.institutions.links,(s,x)=>(o(),i(y,{key:x},[s.url===null?(o(),i("div",{key:0,class:"mr-1 mb-1 rounded border border-gray-300 px-4 py-3 text-sm leading-4 text-gray-400 dark:border-gray-700",innerHTML:s.label},null,8,ye)):(o(),E(n(G),{key:1,class:J(["mr-1 mb-1 rounded border border-gray-300 px-4 py-3 text-sm leading-4 text-gray-700 hover:bg-gray-100 focus:border-indigo-500 focus:text-indigo-500 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700",{"bg-indigo-50 font-bold text-indigo-600 dark:bg-gray-700 dark:text-white":s.active}]),href:s.url},{default:M(()=>[e("span",{innerHTML:s.label},null,8,be)]),_:2},1032,["class","href"]))],64))),128))])])):g("",!0)])])]),(o(),E(Q,{to:"body"},[l.value?(o(),i("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4",onKeydown:R(u,["escape"])},[e("div",{onClick:u,class:"absolute inset-0 bg-gray-900/50"}),e("div",fe,[e("div",xe,[e("h2",ke,d(f.value),1),e("form",{onSubmit:X(z,["prevent"]),class:"mt-6 space-y-6"},[e("div",null,[r[6]||(r[6]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Nama Institusi",-1)),k(e("input",{id:"name",ref_key:"nameInput",ref:p,"onUpdate:modelValue":r[1]||(r[1]=s=>n(a).name=s),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 bg-white p-2 text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 dark:focus:border-indigo-600 dark:focus:ring-indigo-600",required:""},null,512),[[h,n(a).name]]),n(a).errors.name?(o(),i("p",he,d(n(a).errors.name),1)):g("",!0)]),e("div",null,[r[7]||(r[7]=e("label",{for:"type",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Tipe ",-1)),k(e("input",{id:"type","onUpdate:modelValue":r[2]||(r[2]=s=>n(a).type=s),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 bg-white p-2 text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 dark:focus:border-indigo-600 dark:focus:ring-indigo-600"},null,512),[[h,n(a).type]]),n(a).errors.type?(o(),i("p",ve,d(n(a).errors.type),1)):g("",!0)]),e("div",we,[e("button",{type:"button",onClick:u,class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 dark:border-gray-500 dark:bg-gray-600 dark:text-gray-300 dark:hover:bg-gray-500"}," Batal "),e("button",{type:"submit",disabled:n(a).processing,class:"inline-flex items-center rounded-md border border-transparent bg-gray-800 px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out hover:bg-gray-700 focus:bg-gray-700 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:outline-none active:bg-gray-900 disabled:opacity-25 dark:bg-gray-200 dark:text-gray-800 dark:hover:bg-white"},d(m.value?"Perbarui":"Simpan"),9,_e)])],32)])])],32)):g("",!0)]))]),_:1})],64))}});export{$e as default};
