import{d as S,r as f,c as D,i as b,a as r,o as a,b as l,u as i,g as j,w as h,e,h as u,j as M,k as v,F as c,f as g,t as m,v as P,m as C,l as L,S as U,n as V,W as B}from"./app-BBRFiQdQ.js";import{_ as F}from"./AppLayout.vue_vue_type_script_setup_true_lang-yy7b0Yas.js";import{F as H}from"./file-spreadsheet-nqz4s3ql.js";import{U as I}from"./users-BAIp1doM.js";import{c as N}from"./createLucideIcon-UgOIDNV2.js";import{U as q}from"./user-CncR3hSq.js";import"./index-CxuY4G5w.js";import"./useForwardExpose-C7CD7uWD.js";import"./RovingFocusGroup-BJOdycTm.js";import"./x-Dg5YahBO.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-Bf28e-TE.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BLzLAK0F.js";import"./qr-code-VPopWDbx.js";import"./scan-line-i14832__.js";import"./calendar-days-B5Qs1fvz.js";import"./ticket-v8N7Ps__.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=N("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),W={class:"py-12"},$={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},z={class:"overflow-hidden bg-white p-6 shadow-sm sm:rounded-lg dark:bg-gray-800"},K={class:"mb-6 space-y-4"},R={class:"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center"},G=["href"],J={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},O=["value"],Q=["disabled"],X={key:0,class:"mt-8 flex flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 p-12 text-center dark:border-gray-600"},Y={key:1},Z={class:"shadow-md sm:rounded-lg"},ee={class:"w-full text-left text-sm text-gray-500 dark:text-gray-400"},te={key:0},se={colspan:"3",class:"px-6 py-4 text-center"},ae={class:"flex flex-col items-center justify-center p-6"},re={class:"px-6 py-4"},oe={class:"flex items-center gap-3"},de=["src"],le={key:1,class:"flex h-10 w-10 items-center justify-center rounded-full bg-gray-200 dark:bg-gray-700"},ie={class:"font-medium text-gray-900 dark:text-white"},ne={class:"text-xs text-gray-500 dark:text-gray-400"},ce={class:"px-6 py-4"},me={class:"font-mono text-xs text-gray-700 dark:text-gray-300"},ue={class:"px-6 py-4 whitespace-nowrap"},ge={key:0,class:"mt-6"},pe={class:"-mb-1 flex flex-wrap"},ye=["innerHTML"],xe=["innerHTML"],Ue=S({__name:"Attendees",props:{events:{},attendees:{},filters:{}},setup(k){const p=k,o=f(p.filters.event_id||""),n=f(p.filters.search),_=D(()=>o.value?route("admin.data.attendees.export",{event_id:o.value}):"#"),y=()=>{B.get(route("admin.data.attendees"),{event_id:o.value,search:n.value},{preserveState:!0,replace:!0})};b(o,()=>{n.value="",y()});let x;b(n,()=>{clearTimeout(x),x=setTimeout(y,300)});const w=d=>new Date(d).toLocaleString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),T=[{title:"Manajemen Event",href:"#"},{title:"Daftar Peserta",href:route("admin.data.attendees")}];return(d,t)=>(a(),r(c,null,[l(i(j),{title:"Daftar Peserta Event"}),l(F,{breadcrumbs:T},{default:h(()=>[e("div",W,[e("div",$,[e("div",z,[e("div",K,[e("div",R,[t[3]||(t[3]=e("h2",{class:"text-2xl font-bold text-gray-800 dark:text-gray-200"},"Daftar Peserta Event",-1)),o.value?(a(),r("a",{key:0,href:_.value,target:"_blank",class:"inline-flex items-center gap-2 rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-green-700 focus-visible:outline focus-visible:outline-offset-2 focus-visible:outline-green-700"},[l(i(H),{class:"h-4 w-4"}),t[2]||(t[2]=M(" Export Excel "))],8,G)):u("",!0)]),e("div",J,[e("div",null,[t[5]||(t[5]=e("label",{for:"event-select",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Pilih Event",-1)),v(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.value=s),id:"event-select",class:"mt-1 block w-full rounded-md border-gray-300 p-2 text-gray-900 shadow-sm dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300"},[t[4]||(t[4]=e("option",{value:""},"-- Silakan Pilih Event --",-1)),(a(!0),r(c,null,g(d.events,s=>(a(),r("option",{key:s.id,value:s.id},m(s.name),9,O))),128))],512),[[P,o.value]])]),e("div",null,[t[6]||(t[6]=e("label",{for:"search-attendee",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Cari Peserta",-1)),v(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>n.value=s),id:"search-attendee",type:"text",placeholder:"Cari nama atau email...",disabled:!o.value,class:"mt-1 block w-full rounded-md border-gray-300 p-2 text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 disabled:cursor-not-allowed disabled:bg-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 dark:disabled:bg-gray-700/50"},null,8,Q),[[C,n.value]])])])]),o.value?(a(),r("div",Y,[e("div",Z,[e("table",ee,[t[11]||(t[11]=e("thead",{class:"bg-gray-50 text-xs text-gray-700 uppercase dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"},"Peserta"),e("th",{scope:"col",class:"px-6 py-3"},"Kode Tiket"),e("th",{scope:"col",class:"px-6 py-3"},"Tanggal Registrasi")])],-1)),e("tbody",null,[d.attendees.data.length===0?(a(),r("tr",te,[e("td",se,[e("div",ae,[l(i(A),{class:"h-12 w-12 text-gray-400"}),t[9]||(t[9]=e("h3",{class:"mt-2 text-sm font-medium"},"Tidak ada peserta ditemukan",-1)),t[10]||(t[10]=e("p",{class:"mt-1 text-sm text-gray-500"}," Coba kata kunci lain atau periksa kembali event yang dipilih. ",-1))])])])):u("",!0),(a(!0),r(c,null,g(d.attendees.data,s=>(a(),r("tr",{key:s.id,class:"border-b bg-white hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-600"},[e("td",re,[e("div",oe,[s.user.avatar?(a(),r("img",{key:0,src:`/storage/${s.user.avatar}`,class:"h-10 w-10 rounded-full object-cover"},null,8,de)):(a(),r("div",le,[l(i(q),{class:"h-5 w-5 text-gray-400"})])),e("div",null,[e("div",ie,m(s.user.name),1),e("div",ne,m(s.user.email),1)])])]),e("td",ce,[e("span",me,m(s.ticket_code),1)]),e("td",ue,m(w(s.registered_at)),1)]))),128))])])]),d.attendees.links.length>3?(a(),r("div",ge,[e("div",pe,[(a(!0),r(c,null,g(d.attendees.links,(s,E)=>(a(),r(c,{key:E},[s.url?(a(),L(i(U),{key:1,class:V(["mr-1 mb-1 rounded border px-4 py-3 text-sm hover:bg-white focus:border-indigo-500 focus:text-indigo-500 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700",{"bg-white font-bold dark:bg-gray-700":s.active}]),href:s.url},{default:h(()=>[e("span",{innerHTML:s.label},null,8,xe)]),_:2},1032,["class","href"])):(a(),r("div",{key:0,class:"mr-1 mb-1 rounded border px-4 py-3 text-sm text-gray-400 dark:border-gray-700",innerHTML:s.label},null,8,ye))],64))),128))])])):u("",!0)])):(a(),r("div",X,[l(i(I),{class:"h-16 w-16 text-gray-400"}),t[7]||(t[7]=e("h3",{class:"mt-2 text-lg font-medium text-gray-900 dark:text-gray-100"},"Pilih Event untuk Memulai",-1)),t[8]||(t[8]=e("p",{class:"mt-1 text-sm text-gray-500"},"Daftar peserta akan muncul di sini setelah Anda memilih event.",-1))]))])])])]),_:1})],64))}});export{Ue as default};
