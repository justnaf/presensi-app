import{d as $,p as q,i as _,r as c,W as T,x as A,q as F,s as I,a as d,o,b as C,u as i,g as W,w as P,e,l as M,h as u,k,m as v,F as b,f as E,t as n,S as G,n as J,T as Q,y as R,z as S}from"./app-Dl3ghlgD.js";import{u as X}from"./useSweetAlert-Cof9YfZk.js";import{_ as Y}from"./AppLayout.vue_vue_type_script_setup_true_lang-KsND7BiD.js";import"./index-BFUXN-lK.js";import"./useForwardExpose-C6pCFvAC.js";import"./RovingFocusGroup-D8pp2cKb.js";import"./createLucideIcon-fBfe8z8E.js";import"./x-CTgxqL8i.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-D37ZCpxo.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CKaRu_f7.js";import"./user-CHZj7BuD.js";import"./qr-code-B_nGl-lq.js";import"./scan-line-DOQmCL-x.js";import"./calendar-days-DUZpzLiL.js";import"./ticket-BCZm-KTS.js";const Z={class:"py-12"},ee={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},te={class:"overflow-hidden bg-white p-6 shadow-sm sm:rounded-lg dark:bg-gray-800"},re={class:"mb-6 flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center"},se={class:"flex w-full items-center gap-2 sm:w-auto"},ae={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},oe={class:"w-full text-left text-sm text-gray-500 dark:text-gray-400"},de={key:0},ie={class:"px-6 py-4 font-medium text-gray-900 dark:text-white"},ne={class:"px-6 py-4 text-gray-600 dark:text-gray-300"},le={class:"space-x-2 px-6 py-4 text-right"},ce=["onClick"],ue=["onClick"],ge={key:0,class:"mt-6"},me={class:"-mb-1 flex flex-wrap"},pe=["innerHTML"],be={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},xe={class:"relative w-full max-w-2xl transform overflow-hidden rounded-lg bg-white shadow-xl transition-all dark:bg-gray-800"},ye={class:"bg-white p-6 dark:bg-gray-800"},fe={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},ke={class:"flex-1 space-y-6 overflow-y-auto p-6"},ve={key:0,class:"mt-2 text-sm text-red-600"},he={key:0,class:"mt-2 text-sm text-red-600"},we={class:"flex justify-end gap-4 bg-gray-50 p-6 dark:bg-gray-700"},_e=["disabled"],Oe=$({__name:"Categories",props:{categories:{},filters:{}},setup(K){const L=K,{success:B,error:D,confirmDelete:V}=X(),j=q();_(()=>j.props,t=>{var r,s;(r=t.flash)!=null&&r.success&&B(t.flash.success),(s=t.flash)!=null&&s.error&&D(t.flash.error)},{deep:!0});const x=c(L.filters.search);let h;_(x,t=>{clearTimeout(h),h=setTimeout(()=>{T.get(route("admin.event-categories.index"),{search:t},{preserveState:!0,replace:!0})},300)});const a=A({id:null,name:"",description:""}),l=c(!1),g=c(!1),y=c(""),m=c(null),H=()=>{g.value=!1,a.reset(),y.value="Tambah Kategori Baru",l.value=!0,S(()=>{var t;return(t=m.value)==null?void 0:t.focus()})},N=t=>{g.value=!0,a.id=t.id,a.name=t.name,a.description=t.description??"",y.value="Edit Kategori",l.value=!0,S(()=>{var r;return(r=m.value)==null?void 0:r.focus()})},p=()=>{l.value=!1,a.reset()},w=t=>{t.key==="Escape"&&l.value&&p()};F(()=>document.addEventListener("keydown",w)),I(()=>document.removeEventListener("keydown",w));const U=()=>{const t={onSuccess:()=>p(),onError:()=>{var r;return(r=m.value)==null?void 0:r.focus()}};g.value?a.put(route("admin.event-categories.update",a.id),t):a.post(route("admin.event-categories.store"),t)},z=t=>{V(()=>{T.delete(route("admin.event-categories.destroy",t.id),{preserveScroll:!0})})},O=[{title:"Manajemen Event",href:"#"},{title:"Kategori",href:route("admin.event-categories.index")}];return(t,r)=>(o(),d(b,null,[C(i(W),{title:"Manajemen Kategori Event"}),C(Y,{breadcrumbs:O},{default:P(()=>[e("div",Z,[e("div",ee,[e("div",te,[e("div",re,[r[3]||(r[3]=e("h2",{class:"text-2xl font-bold text-gray-800 dark:text-gray-200"},"Kategori Event",-1)),e("div",se,[k(e("input",{"onUpdate:modelValue":r[0]||(r[0]=s=>x.value=s),type:"text",placeholder:"Cari kategori...",class:"block w-full rounded-md border-gray-300 bg-white p-2 text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:w-64 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 dark:focus:border-indigo-600 dark:focus:ring-indigo-600"},null,512),[[v,x.value]]),e("button",{onClick:H,type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-gray-800 px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out hover:bg-gray-700 focus:outline-none active:bg-gray-900 dark:bg-gray-200 dark:text-gray-800 dark:hover:bg-white"}," Tambah ")])]),e("div",ae,[e("table",oe,[r[5]||(r[5]=e("thead",{class:"bg-gray-50 text-xs text-gray-700 uppercase dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"},"Nama Kategori"),e("th",{scope:"col",class:"px-6 py-3"},"Deskripsi"),e("th",{scope:"col",class:"px-6 py-3"},[e("span",{class:"sr-only"},"Actions")])])],-1)),e("tbody",null,[t.categories.data.length===0?(o(),d("tr",de,r[4]||(r[4]=[e("td",{colspan:"3",class:"px-6 py-4 text-center"},"Tidak ada data ditemukan.",-1)]))):u("",!0),(o(!0),d(b,null,E(t.categories.data,s=>(o(),d("tr",{key:s.id,class:"border-b bg-white hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-600"},[e("td",ie,n(s.name),1),e("td",ne,n(s.description||"-"),1),e("td",le,[e("button",{onClick:f=>N(s),class:"font-medium text-blue-600 hover:underline dark:text-blue-500"}," Edit ",8,ce),e("button",{onClick:f=>z(s),class:"font-medium text-red-600 hover:underline dark:text-red-500"}," Hapus ",8,ue)])]))),128))])])]),t.categories.links.length>3?(o(),d("div",ge,[e("div",me,[(o(!0),d(b,null,E(t.categories.links,(s,f)=>(o(),d(b,{key:f},[s.url?(o(),M(i(G),{key:1,class:J(["mr-1 mb-1 rounded border px-4 py-3 text-sm hover:bg-white focus:border-indigo-500 focus:text-indigo-500 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700",{"bg-white font-bold dark:bg-gray-700":s.active}]),href:s.url,innerHTML:s.label},null,8,["class","href","innerHTML"])):(o(),d("div",{key:0,class:"mr-1 mb-1 rounded border px-4 py-3 text-sm text-gray-400 dark:border-gray-700",innerHTML:s.label},null,8,pe))],64))),128))])])):u("",!0)])])]),(o(),M(Q,{to:"body"},[l.value?(o(),d("div",be,[e("div",{onClick:p,class:"absolute inset-0 bg-gray-900/50"}),e("div",xe,[e("form",{onSubmit:R(U,["prevent"]),class:"flex h-full flex-col"},[e("div",ye,[e("h2",fe,n(y.value),1)]),e("div",ke,[e("div",null,[r[6]||(r[6]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Nama Kategori",-1)),k(e("input",{id:"name",ref_key:"nameInput",ref:m,"onUpdate:modelValue":r[1]||(r[1]=s=>i(a).name=s),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 p-2 text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300",required:""},null,512),[[v,i(a).name]]),i(a).errors.name?(o(),d("p",ve,n(i(a).errors.name),1)):u("",!0)]),e("div",null,[r[7]||(r[7]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Deskripsi (Opsional)",-1)),k(e("textarea",{id:"description","onUpdate:modelValue":r[2]||(r[2]=s=>i(a).description=s),rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 p-2 text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300"},null,512),[[v,i(a).description]]),i(a).errors.description?(o(),d("p",he,n(i(a).errors.description),1)):u("",!0)])]),e("div",we,[e("button",{type:"button",onClick:p,class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 dark:border-gray-500 dark:bg-gray-600 dark:text-gray-300"}," Batal "),e("button",{type:"submit",disabled:i(a).processing,class:"inline-flex items-center rounded-md border border-transparent bg-gray-800 px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition hover:bg-gray-700 active:bg-gray-900 dark:bg-gray-200 dark:text-gray-800"},n(g.value?"Perbarui":"Simpan"),9,_e)])],32)])])):u("",!0)]))]),_:1})],64))}});export{Oe as default};
