import{u as C,S}from"./useSweetAlert-Cof9YfZk.js";import{d as T,p as B,i as D,q as L,a,o,b as n,w as p,e as s,t as r,u as l,g as j,h as g,j as m,F as u,f as M,W as E}from"./app-BseDJQ0X.js";import{L as c,m as I,a as N,b as P,l as R}from"./marker-shadow-BhrFv298.js";import{_ as A}from"./MobileLayout.vue_vue_type_script_setup_true_lang-DxIUvike.js";import{C as U}from"./calendar-HUxfDok_.js";import{M as V}from"./map-pin-BYoudzSV.js";import{E as $}from"./external-link-CCj8werh.js";import{U as H}from"./user-D2RIFQVy.js";import{C as z}from"./circle-check-big-J2uryjKc.js";import{T as F}from"./ticket-Cb3YOTsR.js";import{C as W}from"./circle-x-BQUZ3yZE.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-B4goNhOc.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CJr7tx2n.js";import"./sun-D4fo1JbN.js";import"./createLucideIcon-QOMkqTl8.js";import"./qr-code-D8fJsSp-.js";const Z={class:"relative -mx-4 -mt-4"},q=["src","alt"],J={key:1,class:"flex h-60 w-full items-center justify-center bg-gray-200 dark:bg-gray-700"},O={class:"p-4"},Y={class:"relative -mt-12"},K={key:0,class:"rounded-full bg-indigo-100 px-3 py-1 text-xs font-semibold text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300"},X={class:"mt-2 text-2xl font-bold text-gray-900 dark:text-gray-100"},G={class:"mt-1 text-gray-600 dark:text-gray-400"},Q={class:"mt-6 space-y-4 rounded-lg border border-gray-200 bg-white p-4 dark:border-gray-700 dark:bg-gray-800"},ee={class:"flex items-center gap-4"},te={class:"text-sm text-gray-700 dark:text-gray-300"},se={key:0,class:"flex items-start gap-4"},ae=["href"],oe={key:1,class:"text-sm text-gray-700 dark:text-gray-300"},re={key:1,class:"flex items-center gap-4"},ne={class:"text-sm text-gray-700 dark:text-gray-300"},ie={key:0,class:"mt-8"},le={key:1,class:"mt-8"},de=["innerHTML"],ge={key:2,class:"mt-8"},me={role:"list",class:"mt-4 space-y-4"},ce={class:"flex-none text-right text-sm leading-6 font-semibold text-indigo-600 dark:text-indigo-400"},pe={class:"flex-auto rounded-md border-l-2 border-indigo-600 p-2 dark:border-indigo-400"},ue={class:"font-semibold text-gray-900 dark:text-gray-100"},fe={key:0,class:"mt-1 text-gray-500"},ye={class:"p-4"},ve={key:0,class:"flex items-center justify-center gap-2 rounded-lg bg-green-100 px-4 py-3 text-sm font-semibold text-green-800 dark:bg-green-900 dark:text-green-300"},he={key:2,class:"flex items-center justify-center gap-2 rounded-lg bg-gray-100 px-4 py-3 text-sm font-semibold text-gray-500 dark:bg-gray-700 dark:text-gray-400"},Pe=T({__name:"Show",props:{event:{},isRegistered:{type:Boolean}},setup(f){c.Icon.Default.mergeOptions({iconUrl:P,iconRetinaUrl:N,shadowUrl:I});const{success:y,error:v}=C(),h=B();D(()=>h.props,e=>{var t,d;(t=e.flash)!=null&&t.success&&y(e.flash.success),(d=e.flash)!=null&&d.error&&v(e.flash.error)},{deep:!0});const i=f,k=()=>{S.fire({title:"Konfirmasi Pendaftaran",text:`Anda akan mendaftar untuk event "${i.event.name}". Lanjutkan?`,icon:"question",showCancelButton:!0,confirmButtonColor:"#4f46e5",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Daftar!",cancelButtonText:"Batal"}).then(e=>{e.isConfirmed&&E.post(route("activities.join",i.event.id),{},{preserveScroll:!0})})},x=e=>new Date(e).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),b=e=>new Date(e).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),_=()=>{if(i.event.latitude!=null&&i.event.longitude!=null){const e=new R.LatLng(i.event.latitude,i.event.longitude),t=c.map("map-container",{scrollWheelZoom:!1,touchZoom:"center"}).setView(e,15);c.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(t),c.marker(e).addTo(t).bindPopup(`<b>${i.event.name}</b><br>${i.event.location_name||""}`).openPopup()}};return L(()=>{_()}),(e,t)=>(o(),a(u,null,[n(l(j),null,{default:p(()=>[s("title",null,r(e.event.name),1),t[0]||(t[0]=s("link",{rel:"stylesheet",href:"https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",integrity:"sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=",crossorigin:""},null,-1))]),_:1,__:[0]}),n(A,null,{footer:p(()=>[s("div",ye,[e.isRegistered?(o(),a("div",ve,[n(l(z),{class:"h-5 w-5"}),t[6]||(t[6]=m(" Anda Sudah Terdaftar "))])):e.event.status==="registration"&&e.event.attendance_mode==="ticketing"?(o(),a("button",{key:1,onClick:k,class:"inline-flex w-full items-center justify-center gap-2 rounded-lg bg-indigo-600 px-4 py-3 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-500"},[n(l(F),{class:"h-5 w-5"}),t[7]||(t[7]=m(" Daftar Sekarang "))])):(o(),a("div",he,[n(l(W),{class:"h-5 w-5"}),t[8]||(t[8]=m(" Pendaftaran Ditutup "))]))])]),default:p(()=>[s("div",Z,[e.event.poster_image?(o(),a("img",{key:0,src:`/storage/${e.event.poster_image}`,alt:e.event.name,class:"h-60 w-full object-cover"},null,8,q)):(o(),a("div",J,t[1]||(t[1]=[s("img",{src:"https://placehold.co/600x400/e2e8f0/a0aec0?text=Event",alt:"Placeholder",class:"h-full w-full object-cover opacity-50"},null,-1)]))),t[2]||(t[2]=s("div",{class:"absolute inset-0 bg-gradient-to-t from-gray-100 via-gray-100/50 to-transparent dark:from-gray-900 dark:via-gray-900/50"},null,-1))]),s("div",O,[s("div",Y,[e.event.category?(o(),a("span",K,r(e.event.category.name),1)):g("",!0),s("h1",X,r(e.event.name),1),s("p",G,r(e.event.description),1)]),s("div",Q,[s("div",ee,[n(l(U),{class:"h-5 w-5 flex-shrink-0 text-indigo-500"}),s("span",te,r(x(e.event.start_date)),1)]),e.event.location_name?(o(),a("div",se,[n(l(V),{class:"h-5 w-5 flex-shrink-0 text-indigo-500"}),e.event.location_url?(o(),a("a",{key:0,href:e.event.location_url,target:"_blank",rel:"noopener noreferrer",class:"group text-sm text-gray-700 dark:text-gray-300"},[m(r(e.event.location_name)+" ",1),n(l($),{class:"inline-block h-3 w-3 text-gray-400 opacity-0 transition-opacity group-hover:opacity-100"})],8,ae)):(o(),a("span",oe,r(e.event.location_name),1))])):g("",!0),e.event.speaker?(o(),a("div",re,[n(l(H),{class:"h-5 w-5 flex-shrink-0 text-indigo-500"}),s("span",ne,r(e.event.speaker),1)])):g("",!0)]),e.event.latitude&&e.event.longitude?(o(),a("div",ie,t[3]||(t[3]=[s("h2",{class:"text-lg font-bold text-gray-900 dark:text-gray-100"},"Lokasi di Peta",-1),s("div",{id:"map-container",class:"z-0 mt-2 h-64 w-full rounded-lg shadow-md"},null,-1)]))):g("",!0),e.event.about?(o(),a("div",le,[t[4]||(t[4]=s("h2",{class:"text-lg font-bold text-gray-900 dark:text-gray-100"},"Tentang Event",-1)),s("div",{class:"prose prose-sm mt-2 max-w-none text-gray-600 dark:text-gray-400",innerHTML:e.event.about},null,8,de)])):g("",!0),e.event.rundowns.length>0?(o(),a("div",ge,[t[5]||(t[5]=s("h2",{class:"text-lg font-bold text-gray-900 dark:text-gray-100"},"Jadwal Acara",-1)),s("ul",me,[(o(!0),a(u,null,M(e.event.rundowns,(d,w)=>(o(),a("li",{key:w,class:"flex gap-x-3"},[s("div",ce,r(b(d.start_time)),1),s("div",pe,[s("div",ue,r(d.title),1),d.description?(o(),a("div",fe,r(d.description),1)):g("",!0)])]))),128))])])):g("",!0)])]),_:1})],64))}});export{Pe as default};
