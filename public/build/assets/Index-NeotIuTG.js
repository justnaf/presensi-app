import{d as B,p as H,i as b,r as N,W as m,a as n,o as a,b as d,u as i,g as V,w as x,e,h as f,k as z,m as A,S as y,j as k,F as u,f as _,t as l,n as v,l as F}from"./app-Dl3ghlgD.js";import{u as O}from"./useSweetAlert-Cof9YfZk.js";import{_ as W}from"./AppLayout.vue_vue_type_script_setup_true_lang-KsND7BiD.js";import{I as K}from"./image-Cv6iTycU.js";import"./index-BFUXN-lK.js";import"./useForwardExpose-C6pCFvAC.js";import"./RovingFocusGroup-D8pp2cKb.js";import"./createLucideIcon-fBfe8z8E.js";import"./x-CTgxqL8i.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-D37ZCpxo.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CKaRu_f7.js";import"./user-CHZj7BuD.js";import"./qr-code-B_nGl-lq.js";import"./scan-line-DOQmCL-x.js";import"./calendar-days-DUZpzLiL.js";import"./ticket-BCZm-KTS.js";const P={class:"py-12"},U={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},q={class:"overflow-hidden bg-white p-6 shadow-sm sm:rounded-lg dark:bg-gray-800"},G={class:"mb-6 flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center"},J={class:"flex w-full items-center gap-2 sm:w-auto"},Q={class:"shadow-md sm:rounded-lg"},R={class:"w-full text-left text-sm text-gray-500 dark:text-gray-400"},X={key:0},Y={class:"px-6 py-4"},Z={class:"flex items-center gap-3"},ee=["src"],te={key:1,class:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-md bg-gray-200 dark:bg-gray-700"},re={class:"font-medium text-gray-900 dark:text-white"},se={class:"text-xs text-gray-500 dark:text-gray-400"},ae={class:"px-6 py-4"},oe=["onClick"],ne={class:"px-6 py-4 whitespace-nowrap"},de={class:"px-6 py-4"},ie={class:"space-x-2 px-6 py-4 text-right whitespace-nowrap"},le=["onClick"],ce={key:0,class:"mt-6"},ue={class:"-mb-1 flex flex-wrap"},ge=["innerHTML"],Ie=B({__name:"Index",props:{events:{},filters:{}},setup(w){const D=w,{success:T,error:S,confirmDelete:C}=O(),E=H();setTimeout(()=>{b(()=>E.props,r=>{var s,t;(s=r.flash)!=null&&s.success&&T(r.flash.success),(t=r.flash)!=null&&t.error&&S(r.flash.error)},{deep:!0})},100);const g=N(D.filters.search);let h;b(g,r=>{clearTimeout(h),h=setTimeout(()=>{m.get(route("admin.events.index"),{search:r},{preserveState:!0,replace:!0})},300)});const p=["draft","registration","ongoing","completed"],I=r=>{const t=(p.indexOf(r.status)+1)%p.length,o=p[t];m.patch(route("admin.events.update.status",r.id),{status:o},{preserveScroll:!0})},L=r=>{C(()=>{m.delete(route("admin.events.destroy",r.id),{preserveScroll:!0})})},M=r=>({draft:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",registration:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",ongoing:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",completed:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300"})[r],j=(r,s)=>{const t={day:"numeric",month:"long",year:"numeric"},o=new Date(r),c=new Date(s);return o.getTime()===c.getTime()?o.toLocaleDateString("id-ID",t):`${o.toLocaleDateString("id-ID",{day:"numeric",month:"short"})} - ${c.toLocaleDateString("id-ID",t)}`},$=[{title:"Manajemen Event",href:route("admin.events.index")},{title:"Daftar Event",href:route("admin.events.index")}];return(r,s)=>(a(),n(u,null,[d(i(V),{title:"Manajemen Event"}),d(W,{breadcrumbs:$},{default:x(()=>[e("div",P,[e("div",U,[e("div",q,[e("div",G,[s[2]||(s[2]=e("h2",{class:"text-2xl font-bold text-gray-800 dark:text-gray-200"},"Daftar Event",-1)),e("div",J,[z(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>g.value=t),type:"text",placeholder:"Cari event...",class:"block w-full rounded-md border-gray-300 bg-white p-2 text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:w-64 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 dark:focus:border-indigo-600"},null,512),[[A,g.value]]),d(i(y),{href:r.route("admin.events.create"),class:"inline-flex items-center rounded-md border border-transparent bg-gray-800 px-4 py-2 text-xs font-semibold tracking-widest whitespace-nowrap text-white uppercase transition duration-150 ease-in-out hover:bg-gray-700 focus:outline-none active:bg-gray-900 dark:bg-gray-200 dark:text-gray-800 dark:hover:bg-white"},{default:x(()=>s[1]||(s[1]=[k(" Tambah Event ")])),_:1,__:[1]},8,["href"])])]),e("div",Q,[e("table",R,[s[5]||(s[5]=e("thead",{class:"bg-gray-50 text-xs text-gray-700 uppercase dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"},"Nama Event"),e("th",{scope:"col",class:"px-6 py-3"},"Status"),e("th",{scope:"col",class:"px-6 py-3"},"Tanggal"),e("th",{scope:"col",class:"px-6 py-3"},"Tipe"),e("th",{scope:"col",class:"px-6 py-3"},[e("span",{class:"sr-only"},"Actions")])])],-1)),e("tbody",null,[r.events.data.length===0?(a(),n("tr",X,s[3]||(s[3]=[e("td",{colspan:"5",class:"px-6 py-4 text-center"},"Tidak ada data event ditemukan.",-1)]))):f("",!0),(a(!0),n(u,null,_(r.events.data,t=>{var o;return a(),n("tr",{key:t.id,class:"border-b bg-white hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-600"},[e("td",Y,[e("div",Z,[t.poster_image?(a(),n("img",{key:0,src:`/storage/${t.poster_image}`,class:"h-10 w-10 rounded-md object-cover",alt:"Event Poster"},null,8,ee)):(a(),n("div",te,[d(i(K),{class:"h-5 w-5 text-gray-400"})])),e("div",null,[e("div",re,l(t.name),1),e("div",se,l(((o=t.category)==null?void 0:o.name)||"Tanpa Kategori"),1)])])]),e("td",ae,[e("button",{onClick:c=>I(t),type:"button",class:v(["rounded-full px-2.5 py-1 text-xs font-semibold capitalize transition-transform duration-150 hover:scale-105 active:scale-100",M(t.status)])},l(t.status),11,oe)]),e("td",ne,l(j(t.start_date,t.end_date)),1),e("td",de,l(t.type),1),e("td",ie,[d(i(y),{href:r.route("admin.events.edit",t.id),class:"font-medium text-blue-600 hover:underline dark:text-blue-500"},{default:x(()=>s[4]||(s[4]=[k("Edit")])),_:2,__:[4]},1032,["href"]),e("button",{onClick:c=>L(t),class:"font-medium text-red-600 hover:underline dark:text-red-500"}," Hapus ",8,le)])])}),128))])])]),r.events.links.length>3?(a(),n("div",ce,[e("div",ue,[(a(!0),n(u,null,_(r.events.links,(t,o)=>(a(),n(u,{key:o},[t.url?(a(),F(i(y),{key:1,class:v(["mr-1 mb-1 rounded border px-4 py-3 text-sm hover:bg-white focus:border-indigo-500 focus:text-indigo-500 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700",{"bg-white font-bold dark:bg-gray-700":t.active}]),href:t.url,innerHTML:t.label},null,8,["class","href","innerHTML"])):(a(),n("div",{key:0,class:"mr-1 mb-1 rounded border px-4 py-3 text-sm text-gray-400 dark:border-gray-700",innerHTML:t.label},null,8,ge))],64))),128))])])):f("",!0)])])])]),_:1})],64))}});export{Ie as default};
